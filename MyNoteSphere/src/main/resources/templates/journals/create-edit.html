<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8" />
    <title th:text="${journal.id == null ? 'Create Journal' : 'Edit Journal'}"></title>

    <!-- CSS -->
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <link rel="stylesheet" th:href="@{/css/sidebar.css}" />

    
</head>

<body>
<div class="app-layout">
<!-- Sidebar -->
<div th:replace="~{fragments/sidebar :: sidebar}"></div>
<div class="main-content">
<main class="journal-container">
    <!-- Page heading shown only on "new" page -->
    <h1 th:if="${journal.id == null}" style="text-align: center; margin-bottom: 20px;">
        Journal Writing
    </h1>

    <div class="editor-container">

       <form th:action="@{/journals/new}"
      th:object="${journal}"
      method="post">

           

            <!-- Title -->
            <input type="text"
                   class="title-input"
                   th:field="*{title}"
                   placeholder="Title"
                   required />

            <!-- TEXTAREA (TinyMCE attaches here) -->
            <textarea id="editor"
                      th:field="*{content}"
                      class="content-input"
                      placeholder="Start writing...">
            </textarea>

            <!-- Submit -->
            <div class="journal-save-wrapper">
                <button type="submit"
                        class="btn-save"
                        th:text="${journal.id == null ? 'Save' : 'Update'}">
                    Save
                </button>
            </div>

        </form>
    </div>
</main>
 </div>

</div>
<!-- TinyMCE CDN -->
<script src="https://cdn.tiny.cloud/1/g6une710tx8getbxwg84b9hodn2v6wtruj0ikxqya4m6kcji/tinymce/6/tinymce.min.js"
        referrerpolicy="origin"></script>

<!-- TinyMCE Initialization -->
<script>
    tinymce.init({
        selector: '#editor',
        height: 600,
        menubar: false,
        plugins: 'lists link image table code',
        toolbar:
            'undo redo | bold italic underline | ' +
            'bullist numlist | link image table | code',
        branding: false
    });
</script>

</body>
</html>
